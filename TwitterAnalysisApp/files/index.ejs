<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Welcome!</title>
    <link rel="stylesheet" href="/cssFiles/style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/Script/script.js"></script>
</head>
<body> 
    <div class = "container">
        <br/>
        <div>
            <div id="content">
                <button type="button" class="btn btn-success" data-toggle="collapse" data-target="#map1">
                    Coordinates
                </button>
            </div>

            <div id="map1" class="collapse in">
                <div align="center" class="span4">
                    <div id="map-canvas"></div>
                    <br/>
                </div>
            </div>

            <div id="content">
                <button type="button" class="btn btn-warning" data-toggle="collapse" data-target="#map2">
                    Emotion
                </button>
            </div>
            
            <div id="map2" class="collapse in">
                <div align="center" class="span4">
                    <div id="map-canvas1"></div>
                    <br/>
                </div>
            </div>
            <div id="content">
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#map3">
                    Sports
                </button>
            </div>

            <div id="map3" class="collapse in">
                <div align="center" class="span4">
                    <div id="map-canvas2"></div>
                    <br/>
                </div>
            </div>

            <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
            <script src="/Script/List.js"></script>
            <script src="/Script/Mapster.js"></script>
            <script src="/Script/map-options.js"></script>
            <script>
                var heatmapData = [];
                <% tiny_twitter.forEach(function(tweets){ %>
                    var coor = [<%= tweets.value.the_coordinate %>];
                    heatmapData.push(coor);
                <% }); %>
            </script>
    
            <script>
                (function(window, google, mapster) {
                  var options = mapster.MAP_OPTIONS,
                  element = document.getElementById('map-canvas'),
                  map = mapster.create(element, options);

                  element1 = document.getElementById('map-canvas1'),
                  map1 = mapster.create(element1, options);

                  element2 = document.getElementById('map-canvas2'),
                  map2 = mapster.create(element2, options);
                  
                  var coor = heatmapData;
                  console.log(coor);
                  coor.forEach(function(coordinate){
                    map.addMarker({
                      lat: Number(coordinate[1]),
                      lng: Number(coordinate[0]),
                      draggable: false,
                    })
                  });  
                }(window, google, window.Mapster || (window.Mapster = {})));
            </script>
        </div>
    </div>
</div>
    
</body>
</html>